{"version":3,"sources":["webpack:///webpack/bootstrap 459253c97c46466c0cc7","webpack:///./lib/javanoid.js","webpack:///./lib/game.js","webpack:///./lib/block.js","webpack:///./lib/cannonball.js","webpack:///./lib/paddle.js","webpack:///./lib/gameView.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;ACXD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,kBAAiB,oBAAoB;AACrC,oBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA,qBAAoB,aAAa;AACjC;;AAEA,6BAA4B,mBAAmB,EAAE;;AAEjD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAoB,aAAa;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,yBAAyB;AAC1C;AACA,oBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACzLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;AChEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 459253c97c46466c0cc7\n **/","var Game = require('./game');\nvar GameView = require('./gameView');\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var canvas = document.getElementById('javanoid-canvas');\n  canvas.width = Game.DIM_X;\n  canvas.height = Game.DIM_Y;\n\n  var context = canvas.getContext('2d');\n  var game = new Game();\n  new GameView(game, context).start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/javanoid.js\n ** module id = 0\n ** module chunks = 0\n **/","var Block = require('./block');\nvar Cannonball = require('./cannonball');\nvar Paddle = require('./paddle');\n\nvar Game = function () {\n  this.blocks = [];\n  this.cannonballs = [];\n  this.paddles = [];\n  this.lives = 3;\n\n  this.addBlocks();\n};\n\nGame.DIM_X = 600;\nGame.DIM_Y = 300;\nGame.blockColumns = 7;\nGame.blockRows = 12;\n\nGame.prototype.add = function (object) {\n  if (object.type === \"Paddle\") {\n    this.paddles.push(object);\n  } else if (object.type === \"Cannonball\") {\n    this.cannonballs.push(object);\n  } else if (object.type === \"Block\") {\n    this.blocks.push(object);\n  } else {\n    throw \"Game#add error\";\n  }\n};\n\nGame.prototype.addBlocks = function () {\n  for (var r = 0; r < Game.blockRows; r++) {\n    for (var c = 0; c < Game.blockColumns; c++) {\n      this.add(new Block({\n        pos: [50 * r, 20 * (c + 1)],\n        size: [50, 20],\n        color: ['#93B2D4', '#2D94F9', '#01D22E', '#FFFF00', '#F0C300', '#F87F06', '#FB122B'][c],\n        game: this.game\n      }));\n    }\n  }\n};\n\nGame.prototype.addCannonball = function (options) {\n  args = $l.extend({ game: this }, options);\n  var cannonball = new Cannonball(args);\n\n  key('space', function () { cannonball.fire(); });\n\n  this.add(cannonball);\n  return cannonball;\n};\n\nGame.MOVES = {\n  \"left\": -1,\n  \"right\": 1\n};\n\nGame.prototype.addPaddle = function (options) {\n  args = $l.extend({ game: this }, options);\n  var paddle = new Paddle(args);\n  this.add(paddle);\n  return paddle;\n};\n\nGame.prototype.allObjects  = function () {\n  return [].concat(this.paddles, this.blocks, this.cannonballs);\n};\n\nGame.prototype.checkCollisions = function () {\n\n};\n\nGame.prototype.draw = function (context) {\n  context.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n  context.fillStyle = '#ccc';\n  context.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n  this.allObjects().forEach(function(obj) {\n    obj.draw(context);\n  });\n};\n\n// Reflection Methods\n\nGame.prototype.paddleBounce = function (x, dx, y, dy, radius) {\n  for (var i = 0; i < this.paddles.length; i++) {\n    var paddle = this.paddles[i];\n    if ( y + dy > Game.DIM_Y - paddle.height - radius && x > paddle.left && x < paddle.left + paddle.width) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nGame.prototype.blockBounce = function (x, dx, y, dy, radius) {\n  var result = [];\n  for (var i = 0; i < this.blocks.length; i++) {\n    var block = this.blocks[i];\n    if (y + dy + radius > block.top  && y + dy - radius < block.top + block.height && x + dx + radius > block.left  && x + dx - radius < block.left + block.width) {\n      this.remove(block);\n      if (y + radius > block.top && y - radius < block.top + block.height) {\n        result.push('dx');\n      }\n\n      if (x + radius > block.left && x - radius < block.left + block.width) {\n        result.push('dy');\n      }\n      return result;\n    }\n  }\n  return false;\n};\n\nGame.prototype.sideBorderBounce = function (x, dx, radius) {\n  return (x + dx > Game.DIM_X - radius || x + dx < radius);\n};\n\nGame.prototype.topBorderBounce = function (y, dy, radius) {\n  return (y + dy < radius);\n};\n\nGame.prototype.outOfBounds = function (y, radius) {\n  for (var i = 0; i < this.paddles.length; i++) {\n    var paddle = this.paddles[i];\n    for (var j = 0; j < this.cannonballs.length; j++) {\n      var cannonball = this.cannonballs[j];\n      if (Game.DIM_Y < cannonball.y - cannonball.radius) {\n        this.remove(cannonball);\n        j -= 1;\n      }\n    }\n  }\n};\n\nGame.prototype.newGame = function () {\n  paddle = this.addPaddle();\n  this.addCannonball({\n    paddle: paddle,\n    x: paddle.left + (paddle.width / 2),\n    y: paddle.top\n  });\n};\n\nGame.prototype.gameOver = function () {\n\n};\n\nGame.prototype.moveCannonball = function (timeChange) {\n  this.cannonballs.forEach(function (cannonball) {\n     cannonball.move();\n  });\n};\n\nGame.prototype.reset = function () {\n  this.lives -= 1;\n  if (this.lives === 0) {\n    this.gameOver();\n  } else {\n    this.paddles = [];\n    this.newGame();\n  }\n};\n\nGame.prototype.remove = function (object) {\n  if (object.type === \"Paddle\") {\n    this.paddles.splice(this.paddles.indexOf(object), 1);\n  } else if (object.type === \"Cannonball\") {\n    this.cannonballs.splice(this.cannonballs.indexOf(object), 1);\n  } else if (object.type === \"Block\") {\n    this.blocks.splice(this.blocks.indexOf(object), 1);\n  } else {\n    throw \"Game#remove error\";\n  }\n};\n\nGame.prototype.step = function (timeChange) {\n  this.moveCannonball(timeChange);\n  this.outOfBounds();\n  if (this.cannonballs.length === 0) {\n    this.reset();\n  }\n  // this.checkCollisions();\n};\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","\nvar Block = function (options) {\n  this.left = options.pos[0];\n  this.top = options.pos[1];\n  this.width = options.size[0];\n  this.height = options.size[1];\n  this.color = options.color;\n  this.game = options.game;\n};\n\nBlock.prototype.draw = function (context) {\n  context.fillStyle = this.color;\n  // context.strokeStyle = \"white\";\n  context.strokeStyle = this.border;\n  context.beginPath();\n  context.rect(this.left, this.top, this.width, this.height);\n  context.fill();\n  context.stroke();\n};\n\nBlock.prototype.type = \"Block\";\n\nmodule.exports = Block;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/block.js\n ** module id = 2\n ** module chunks = 0\n **/","var Cannonball = function (options) {\n  this.x = options.x;\n  this.y = options.y - Cannonball.radius;\n  this.radius = options.radius || Cannonball.radius;\n  this.fill = options.fill || Cannonball.fill;\n  this.released = false;\n  this.game = options.game;\n  this.paddle = options.paddle;\n};\n\nCannonball.radius = 8;\nCannonball.fill = [0, Math.PI * 2];\n\n\nCannonball.prototype.draw = function (context) {\n  context.fillStyle = '#000';\n  context.beginPath();\n  context.arc(this.x, this.y, this.radius, this.fill[0], this.fill[1]);\n  context.fill();\n};\n\nCannonball.prototype.fire = function () {\n  this.released = true;\n  this.dx = 3;\n  this.dy = -3;\n};\n\nCannonball.prototype.move = function (direction) {\n  if (!this.released) {\n    this.x += this.paddle.goRight;\n    this.x -= this.paddle.goLeft;\n  } else {\n    if (this.game.sideBorderBounce(this.x, this.dx, this.radius)) {\n      this.dx = -this.dx;\n    }\n\n    if (this.game.topBorderBounce(this.y, this.dy, this.radius)) {\n      this.dy = -this.dy;\n    }\n\n    if (this.game.paddleBounce(this.x, this.dx, this.y, this.dy, this.radius)) {\n      this.dy = -this.dy;\n      if (this.dx < 4) {\n        this.dx += (0.1 * this.paddle.goRight);\n      }\n      if (this.dx > -4) {\n        this.dx -= (0.1 * this.paddle.goLeft);\n      }\n    }\n\n    var bounceDirection = this.game.blockBounce(this.x, this.dx, this.y, this.dy, this.radius);\n\n    if (bounceDirection) {\n\n      if (bounceDirection.indexOf('dx') !== -1) {\n        this.dx = -this.dx;\n      }\n      if (bounceDirection.indexOf('dy') !== -1) {\n        this.dy = -this.dy;\n      }\n    }\n\n    this.x += this.dx;\n    this.y += this.dy;\n  }\n};\n\nCannonball.prototype.type = 'Cannonball';\n\nmodule.exports = Cannonball;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/cannonball.js\n ** module id = 3\n ** module chunks = 0\n **/","var Paddle = function (options) {\n  this.left = options.left || Paddle.left;\n  this.top = options.top || Paddle.top;\n  this.width = options.width || Paddle.width;\n  this.height = options.height || Paddle.height;\n  this.goLeft = 0;\n  this.goRight = 0;\n  this.game = options.game;\n\n  $l(\"html\").on(\"keydown\", this.move.bind(this));\n  $l(\"html\").on(\"keyup\", this.stop.bind(this));\n};\n\nPaddle.left = 270;\nPaddle.top = 290;\nPaddle.width = 60;\nPaddle.height = 10;\n\nPaddle.prototype.draw = function (context) {\n  this.left += this.goRight;\n  this.left -= this.goLeft;\n\n  if (this.left + this.goRight - this.goLeft < 0) {\n    this.goLeft = 0;\n  } else if (this.left + this.width + this.goRight - this.goLeft > 600) {\n    this.goRight = 0;\n  }\n\n  context.fillStyle = 'blue';\n  context.beginPath();\n  context.rect(this.left, this.top, this.width, this.height);\n  context.fill();\n};\n\nPaddle.prototype.move = function (e) {\n  if (this.game.paddles[0] === this) {\n    if (e.keyCode === 39 && this.left + this.width !== 600) {\n      this.goRight = 5;\n    } else if  (e.keyCode === 37 && this.left !== 0) {\n      this.goLeft = 5;\n    }\n  }\n\n  // if ((this.left !== 0 && direction === -1) || (this.left + this.width !== 600 && direction === 1) ) {\n  //   debugger\n  //   this.velocity = (30 * direction);\n  //   this.left += this.velocity;\n  // } else {\n  //   this.velocity = 0;\n  // }\n};\n\nPaddle.prototype.stop = function (e) {\n  if (this.game.paddles[0] === this) {\n    if (e.keyCode === 39) {\n      this.goRight = 0;\n    } else if  (e.keyCode === 37) {\n      this.goLeft = 0;\n    }\n  }\n};\n\nPaddle.prototype.type = 'Paddle';\n\nmodule.exports = Paddle;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/paddle.js\n ** module id = 5\n ** module chunks = 0\n **/","var GameView = function (game, context) {\n  this.game = game;\n  this.context = context;\n};\n\nGameView.prototype.start = function () {\n  paddle = this.game.addPaddle();\n  this.game.addCannonball({\n    paddle: paddle,\n    x: paddle.left + (paddle.width / 2),\n    y: paddle.top\n  });\n  this.lastTime = 0;\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nGameView.prototype.animate = function (time) {\n  var timeChange = time - this.lastTime;\n\n  this.game.step(timeChange);\n  this.game.draw(this.context);\n  this.lastTime = time;\n\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/gameView.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}